{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n// import 'flatpickr/dist/themes/dark.css';\nlet userSelectedDate;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const validDate = selectedDates[0] - new Date() > 0;\n    if (!validDate) {\n      window.alert('Please choose a date in the future');\n      btnElem.setAttribute('disabled', 'true');\n    } else {\n      btnElem.addEventListener(\n        'click',\n        e => {\n          btnElem.setAttribute('disabled', 'true');\n          inputElem.setAttribute('disabled', 'true');\n          userSelectedDate = setInterval(() => {\n            const ms = selectedDates[0] - new Date();\n            markup(convertMs(ms));\n            setTimeout(() => {\n              clearInterval(userSelectedDate);\n              inputElem.removeAttribute('disabled');\n              //   secondsElem.textContent = '0';\n            }, ms - 1000);\n          });\n        },\n        1000\n      );\n\n      btnElem.removeAttribute('disabled');\n    }\n  },\n};\nconst inputElem = document.querySelector('#datetime-picker');\nconst btnElem = document.querySelector('[data-start]');\nconst daysElem = document.querySelector('[data-days]');\nconst hoursElem = document.querySelector('[data-hours]');\nconst minutesElem = document.querySelector('[data-minutes]');\nconst secondsElem = document.querySelector('[data-seconds]');\nbtnElem.setAttribute('disabled', 'true');\nflatpickr(inputElem, options);\n\nfunction markup({ days, hours, minutes, seconds }) {\n  //   if (daysElem.textContent !== days) {\n  //     daysElem.textContent = days;\n  //   }\n  //   if (hoursElem.textContent !== hours) {\n  //     hoursElem.textContent = hours;\n  //   }\n  //   if (minutesElem.textContent !== minutes) {\n  //     minutesElem.textContent = minutes;\n  //   }\n  //   if (secondsElem.textContent !== seconds) {\n  //     secondsElem.textContent = seconds;\n  //   }\n  daysElem.textContent = days.toString().padStart(2, 0);\n  hoursElem.textContent = hours.toString().padStart(2, 0);\n  minutesElem.textContent = minutes.toString().padStart(2, 0);\n  secondsElem.textContent = seconds.toString().padStart(2, 0);\n}\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["userSelectedDate","options","selectedDates","btnElem","e","inputElem","ms","markup","convertMs","daysElem","hoursElem","minutesElem","secondsElem","flatpickr","days","hours","minutes","seconds"],"mappings":"wIAGA,IAAIA,EACJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACHA,EAAc,CAAC,EAAI,IAAI,KAAS,GAKhDC,EAAQ,iBACN,QACAC,GAAK,CACHD,EAAQ,aAAa,WAAY,MAAM,EACvCE,EAAU,aAAa,WAAY,MAAM,EACzCL,EAAmB,YAAY,IAAM,CACnC,MAAMM,EAAKJ,EAAc,CAAC,EAAI,IAAI,KAClCK,EAAOC,EAAUF,CAAE,CAAC,EACpB,WAAW,IAAM,CACf,cAAcN,CAAgB,EAC9BK,EAAU,gBAAgB,UAAU,CAElD,EAAeC,EAAK,GAAI,CACxB,CAAW,CACF,EACD,GACR,EAEMH,EAAQ,gBAAgB,UAAU,IArBlC,OAAO,MAAM,oCAAoC,EACjDA,EAAQ,aAAa,WAAY,MAAM,EAsB1C,CACH,EACME,EAAY,SAAS,cAAc,kBAAkB,EACrDF,EAAU,SAAS,cAAc,cAAc,EAC/CM,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAC3DT,EAAQ,aAAa,WAAY,MAAM,EACvCU,EAAUR,EAAWJ,CAAO,EAE5B,SAASM,EAAO,CAAE,KAAAO,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAajDR,EAAS,YAAcK,EAAK,SAAU,EAAC,SAAS,EAAG,CAAC,EACpDJ,EAAU,YAAcK,EAAM,SAAU,EAAC,SAAS,EAAG,CAAC,EACtDJ,EAAY,YAAcK,EAAQ,SAAU,EAAC,SAAS,EAAG,CAAC,EAC1DJ,EAAY,YAAcK,EAAQ,SAAU,EAAC,SAAS,EAAG,CAAC,CAC5D,CACA,SAAST,EAAUF,EAAI,CAQrB,MAAMQ,EAAO,KAAK,MAAMR,EAAK,KAAG,EAE1BS,EAAQ,KAAK,MAAOT,EAAK,MAAO,IAAI,EAEpCU,EAAU,KAAK,MAAQV,EAAK,MAAO,KAAQ,GAAM,EAEjDW,EAAU,KAAK,MAASX,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}